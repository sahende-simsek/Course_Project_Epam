(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},25050,e=>{"use strict";e.s(["default",0,{async login(e,t){let a=await fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})});if(!a.ok){let e;try{e=await a.json()}catch{e=await a.text()}throw Error((e&&(e.error||e.message)?e.error||e.message:JSON.stringify(e))||`Login failed (${a.status})`)}return a.json()},async register(e,t){let a=await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok){let e;try{e=await a.json()}catch{e=await a.text()}throw Error((e&&(e.error||e.message)?e.error||e.message:JSON.stringify(e))||`Register failed (${a.status})`)}return a.json()}}])},89954,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(18566),s=e.i(25050);function r(){let[e,r]=(0,a.useState)(""),[o,n]=(0,a.useState)(""),[l,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(!1),h=async t=>{t.preventDefault(),c(null),d(!0);try{console.log("LoginForm: submitting",{email:e}),await s.default.login(e,o),console.log("LoginForm: login success, about to navigate to /"),g.push("/"),console.log("LoginForm: router.push called to /")}catch(e){c(e?.message??"Login failed")}finally{d(!1)}},g=(0,i.useRouter)();return(0,t.jsxs)("form",{onSubmit:h,"aria-label":"login-form",className:"card auth-card",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",children:"Email"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",value:e,onChange:e=>r(e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",children:"Password"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",value:o,onChange:e=>n(e.target.value),required:!0})]}),(0,t.jsx)("div",{className:"auth-actions",children:(0,t.jsx)("button",{type:"submit",disabled:u,"aria-busy":u,className:"btn",children:u?"Signing in...":"Sign in"})}),l&&(0,t.jsx)("div",{role:"alert","aria-live":"assertive",style:{color:"red"},children:l})]})}function o(){return(0,t.jsxs)("main",{children:[(0,t.jsx)("h1",{children:"Sign in"}),(0,t.jsx)(r,{})]})}e.s(["default",()=>o],89954)}]);